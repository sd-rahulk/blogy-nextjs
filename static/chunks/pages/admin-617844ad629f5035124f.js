_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{C8l7:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return j}));var r=n("q1tI"),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},c=function(e,t){var n;if(e.exists)return u({},e.data(),t?((n={})[t]=e.id,n):null)},o=function(e){return{loading:void 0===e||null===e,value:e}},i=function(e){var t=e?e():void 0,n=Object(r.useReducer)((function(e,t){switch(t.type){case"error":return u({},e,{error:t.error,loading:!1,value:void 0});case"reset":return o(t.defaultValue);case"value":return u({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),o(t)),c=n[0],i=n[1];return{error:c.error,loading:c.loading,reset:function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})},setError:function(e){i({type:"error",error:e})},setValue:function(e){i({type:"value",value:e})},value:c.value}},s=function(e,t){var n=!e&&!t,r=!!e&&!!t&&e.isEqual(t);return n||r},a=function(e,t){return function(e,t,n){var u=Object(r.useRef)(e);return Object(r.useEffect)((function(){t(e,u.current)||(u.current=e,n&&n())})),u}(e,s,t)},f=function(e,t){var n=i(),u=n.error,c=n.loading,o=n.reset,s=n.setError,f=n.setValue,d=n.value,l=a(e,o);return Object(r.useEffect)((function(){if(l.current){var e=t&&t.snapshotListenOptions?l.current.onSnapshot(t.snapshotListenOptions,f,s):l.current.onSnapshot(f,s);return function(){e()}}f(void 0)}),[l.current]),[d,c,u]},d=function(e,t){var n=i(),u=n.error,c=n.loading,o=n.reset,s=n.setError,f=n.setValue,d=n.value,l=a(e,o);return Object(r.useEffect)((function(){if(l.current){var e=t&&t.snapshotListenOptions?l.current.onSnapshot(t.snapshotListenOptions,f,s):l.current.onSnapshot(f,s);return function(){e()}}f(void 0)}),[l.current]),[d,c,u]},l=function(e,t){var n=t?t.idField:void 0,u=t?t.snapshotListenOptions:void 0,o=d(e,{snapshotListenOptions:u}),i=o[0],s=o[1],a=o[2];return[Object(r.useMemo)((function(){return i?c(i,n):void 0}),[i,n]),s,a]},j=function(e,t){var n=t?t.idField:void 0,u=function(e,t){var n=i(),u=n.error,c=n.loading,o=n.reset,s=n.setError,f=n.setValue,d=n.value,l=a(e,o);return Object(r.useEffect)((function(){l.current?l.current.get(t?t.getOptions:void 0).then(f).catch(s):f(void 0)}),[l.current]),[d,c,u]}(e,{getOptions:t?t.getOptions:void 0}),o=u[0],s=u[1],f=u[2];return[o?c(o,n):void 0,s,f]}},DxuY:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("nKUr"),u=n("YFqc"),c=n.n(u),o=n("q1tI"),i=n("Ya7B");function s(e){return Object(o.useContext)(i.a).username?e.children:e.fallback||Object(r.jsx)(c.a,{href:"/enter",children:"You must be signed in"})}},KGfn:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n("iooJ")}])},M4XY:function(e,t,n){(function(t){var n="[object Symbol]",r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,u=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,c="\\u2700-\\u27bf",o="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="['\u2019]",f="["+s+"]",d="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",l="\\d+",j="[\\u2700-\\u27bf]",b="["+o+"]",p="[^\\ud800-\\udfff"+s+l+c+o+i+"]",x="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",v="["+i+"]",O="(?:"+b+"|"+p+")",g="(?:"+v+"|"+p+")",m="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",E="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",_="[\\ufe0e\\ufe0f]?",A=_+y+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",x,h].join("|")+")"+_+y+")*"),w="(?:"+[j,x,h].join("|")+")"+A,N=RegExp(a,"g"),U=RegExp(d,"g"),Y=RegExp([v+"?"+b+"+"+m+"(?="+[f,v,"$"].join("|")+")",g+"+"+E+"(?="+[f,v+O,"$"].join("|")+")",v+"?"+O+"+"+m,v+"+"+E,l,w].join("|"),"g"),L=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,I="object"==typeof t&&t&&t.Object===Object&&t,S="object"==typeof self&&self&&self.Object===Object&&self,C=I||S||Function("return this")();var R,k=(R={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"},function(e){return null==R?void 0:R[e]});var z=Object.prototype.toString,F=C.Symbol,Z=F?F.prototype:void 0,D=Z?Z.toString:void 0;function T(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&z.call(e)==n}(e))return D?D.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function G(e){return null==e?"":T(e)}var K,P=(K=function(e,t,n){return e+(n?"-":"")+t.toLowerCase()},function(e){return function(e,t,n,r){var u=-1,c=e?e.length:0;for(r&&c&&(n=e[++u]);++u<c;)n=t(n,e[u],u,e);return n}(function(e,t,n){return e=G(e),void 0===(t=n?void 0:t)?function(e){return L.test(e)}(e)?function(e){return e.match(Y)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=G(e))&&e.replace(u,k).replace(U,"")}(e).replace(N,"")),K,"")});e.exports=P}).call(this,n("yLpj"))},Y83Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("nKUr"),u=n("YFqc"),c=n.n(u);function o(e){var t=e.posts,n=e.admin;return t?t.map((function(e){return Object(r.jsx)(i,{post:e,admin:n},e.slug)})):null}function i(e){var t=e.post,n=e.admin,u=void 0!==n&&n,o=null===t||void 0===t?void 0:t.content.trim().split(/\s+/g).length,i=(o/100+1).toFixed(0);return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)(c.a,{href:"/".concat(t.username),children:Object(r.jsx)("a",{children:Object(r.jsxs)("strong",{children:["By @",t.username]})})}),Object(r.jsx)(c.a,{href:"/".concat(t.username,"/").concat(t.slug),children:Object(r.jsx)("h2",{children:Object(r.jsx)("a",{children:t.title})})}),Object(r.jsxs)("footer",{children:[Object(r.jsxs)("span",{children:[o," words. ",i," min read"]}),Object(r.jsxs)("span",{className:"push-left",children:["\ud83d\udc97 ",t.heartCount||0," Likes"]})]}),u&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{href:"/admin/".concat(t.slug),children:Object(r.jsx)("h3",{children:Object(r.jsx)("button",{className:"btn-blue",children:"Edit"})})}),t.published?Object(r.jsx)("p",{className:"text-success",children:"Live"}):Object(r.jsx)("p",{className:"text-danger",children:"Unpublished"})]})]})}},gNYA:function(e,t,n){e.exports={container:"Admin_container__3gjyU",hidden:"Admin_hidden__1KXRX",controls:"Admin_controls__1pv-o",input:"Admin_input__xQFe-",checkbox:"Admin_checkbox__G0v5P"}},iooJ:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("o0o1"),u=n.n(r),c=n("HaE+"),o=n("ODXe"),i=n("nKUr"),s=n("gNYA"),a=n.n(s),f=n("DxuY"),d=n("Y83Y"),l=n("Ya7B"),j=n("U6Mw"),b=n("q1tI"),p=n("20a2"),x=n("C8l7"),h=n("M4XY"),v=n.n(h),O=n("5I6T");function g(e){return Object(i.jsx)("main",{children:Object(i.jsxs)(f.a,{children:[Object(i.jsx)(m,{}),Object(i.jsx)(E,{})]})})}function m(){var e=j.c.collection("users").doc(j.b.currentUser.uid).collection("posts").orderBy("createdAt"),t=Object(x.a)(e),n=Object(o.a)(t,1)[0],r=null===n||void 0===n?void 0:n.docs.map((function(e){return e.data()}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:"Manage your Posts"}),Object(i.jsx)(d.a,{posts:r,admin:!0})]})}function E(){var e=Object(p.useRouter)(),t=Object(b.useContext)(l.a).username,n=Object(b.useState)(""),r=n[0],o=n[1],s=encodeURI(v()(r)),f=r.length>3&&r.length<100,d=function(){var n=Object(c.a)(u.a.mark((function n(c){var o,i,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),o=j.b.currentUser.uid,i=j.c.collection("users").doc(o).collection("posts").doc(s),a={title:r,slug:s,uid:o,username:t,published:!1,content:"# hello world!",createdAt:Object(j.g)(),updatedAt:Object(j.g)(),heartCount:0},n.next=6,i.set(a);case 6:O.b.success("Post created!"),e.push("/admin/".concat(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(i.jsxs)("form",{onSubmit:d,children:[Object(i.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},placeholder:"Write your own article title",className:a.a.input}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Slug:"})," ",s]}),Object(i.jsx)("button",{type:"submit",disabled:!f,className:"btn-green",children:"Create New Post"})]})}}},[["KGfn",0,2,5,6,1,3,4,7]]]);